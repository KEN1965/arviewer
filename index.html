<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8" />
  <title>GLB AR Viewer (v3.2.1 å†ç¾ç‰ˆ)</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <!-- â¬‡ï¸ v3.2.1 ã«å›ºå®š -->
  <script type="module"
    src="https://unpkg.com/@google/model-viewer@3.2.1/dist/model-viewer.min.js"></script>

  <style>
    html,body{
      margin:0;padding:0;height:100%;
      display:flex;flex-direction:column;align-items:center;justify-content:center;
      background:#f2f5f8;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,sans-serif;
      text-align:center;
    }
    header{position:fixed;top:0;left:0;right:0;background:#0078d7;color:#fff;
      padding:14px 0;font-weight:600;box-shadow:0 2px 6px rgba(0,0,0,.15);}
    main{margin-top:80px;width:100%;display:flex;flex-direction:column;align-items:center;}
    label{background:#0078d7;color:#fff;padding:18px 42px;border-radius:50px;font-size:20px;
      cursor:pointer;box-shadow:0 4px 10px rgba(0,0,0,.2);transition:.3s;}
    label:hover{background:#005fa3;transform:scale(1.05);}
    input[type=file]{display:none;}
    model-viewer{width:100%;height:70vh;display:none;margin-top:25px;background:#fff;}
    footer{position:fixed;bottom:0;left:0;right:0;text-align:center;font-size:13px;
      color:#555;padding:10px 0;border-top:1px solid #ddd;}
  </style>
</head>
<body>
  <header>GLB AR Viewer (v3.2.1 å†ç¾ç‰ˆ)</header>
  <main>
    <label for="fileInput">ğŸ“‚ ãƒ•ã‚¡ã‚¤ãƒ«ã‚’é¸æŠ (.glb)</label>
    <input id="fileInput" type="file" accept=".glb" />
    <model-viewer id="viewer"
      ar
      ar-modes="scene-viewer quick-look webxr"
      camera-controls
      auto-rotate
      exposure="1">
    </model-viewer>
  </main>
  <footer>Â© 2025 Digital School LOCO</footer>

  <script>
    const viewer=document.getElementById("viewer");
    const fileInput=document.getElementById("fileInput");
    fileInput.addEventListener("change",e=>{
      const file=e.target.files?.[0];
      if(!file)return;
      const url=URL.createObjectURL(file);
      viewer.src=url;
      viewer.setAttribute("ios-src",url); // å½è£…ãªã—
      viewer.style.display="block";
      viewer.scrollIntoView({behavior:"smooth"});
    });
  </script>
</body>
</html>
